-- =========================================================================================================================================================================
-- #version:0000001000
-- =========================================================================================================================================================================
-- historial de cambios
--
-- versi贸n        gap                solicitud        fecha        realiz贸            descripci贸n
-- -----------    -------------    -------------    ----------    -------------    -----------------------------------------------------------------------------------------
-- 1000                                             22/05/2025      Cesar           Se crea funci贸n para activar trigger de update para la tabla ge_software
-- -----------    -------------    -------------    ----------    -------------    -----------------------------------------------------------------------------------------
-- =========================================================================================================================================================================


CREATE OR REPLACE FUNCTION fn_update_soft_timestamp()
RETURNS TRIGGER AS $$
BEGIN
    NEW.soft_date_update = CURRENT_TIMESTAMP;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER tr_update_soft_timestamp
    BEFORE UPDATE ON ge_software
    FOR EACH ROW
    EXECUTE FUNCTION fn_update_soft_timestamp();